<mat-card class="card">
    <mat-card-header>
        <mat-card-title class="title">
            {{item.value.caption}}
        </mat-card-title>
    </mat-card-header>
    <mat-card-content class="content">
    @if(item.type === 'select') {
        <mat-button-toggle-group class="select-group"
            [ngClass]="{'wrap-options': item.value.multiline}"
            [name]="item.value.id" 
            [multiple]="item.value.multiple"
            [disabled]="disabled"
            [ngModel]="value"
            (ngModelChange)="updateValue($event)">
            @for(opt of item.value.options; track $index) {
                <mat-button-toggle [value]="opt">
                    {{opt}}
                </mat-button-toggle>
            }
        </mat-button-toggle-group>
    } @else if (item.type === 'textarea') {
        <mat-form-field class="field" appearance="outline">
            <textarea matInput
                [name]="item.value.id" 
                [disabled]="disabled"
                [placeholder]="item.value.placeholder"
                [pattern]="item.value.validation"
                [ngModel]="value"
                (ngModelChange)="updateValue($event)"
                ></textarea>
            <mat-error *ngIf="!valid">
                {{validationMessage}}
            </mat-error>
        </mat-form-field>
    } @else if (item.type === 'text') {
        <mat-form-field class="field" appearance="outline">
            <input type="text" matInput
                [name]="item.value.id" 
                [disabled]="disabled"
                [placeholder]="item.value.placeholder"
                [pattern]="item.value.validation"
                [ngModel]="value"
                (ngModelChange)="updateValue($event)"/>
            <mat-error *ngIf="!valid">
                {{validationMessage}}
            </mat-error>
        </mat-form-field>
    }
    </mat-card-content>
</mat-card>